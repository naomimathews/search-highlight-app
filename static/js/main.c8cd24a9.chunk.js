(this["webpackJsonpsearch-highlight"]=this["webpackJsonpsearch-highlight"]||[]).push([[0],[,,,,,,,,,,,function(e,t,a){e.exports=a(22)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(3),i=a.n(l),r=(a(16),a(1)),o=(a(17),a(18),a(6)),s=a(7),u=a(8),m=a(10),h=(a(19),document.getElementById("modal-root")),f=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleActionClick=function(){n.props.confirmCallback&&n.props.confirmCallback()},n.el=document.createElement("div"),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){h.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){h.removeChild(this.el)}},{key:"render",value:function(){return i.a.createPortal(c.a.createElement("div",{className:"modal-overlay"},c.a.createElement("div",{className:"modal-content-box"},c.a.createElement("p",{className:"popup-message"},this.props.message),c.a.createElement("button",{onClick:this.handleActionClick,className:"gradient-button popup-close-button"},"Ok"))),this.el)}}]),a}(c.a.Component);var d=function(e){var t=e.fileSelectCallback,a=e.fileExtension,l=e.buttonText,i=void 0===l?"Select file":l,o=Object(n.useState)(!1),s=Object(r.a)(o,2),u=s[0],m=s[1],h=Object(n.useRef)(),d=function(e){return!a||new RegExp("^.+".concat(a,"$"),"i").test(e.name)};return c.a.createElement("div",{className:"file-input-container"},c.a.createElement("input",{className:"file-input",type:"file",accept:a,onChange:function(e){var a=e.target.files[0];a&&(d(a)?t(a):m(!0));e.target.value=""},ref:h}),c.a.createElement("button",{onClick:function(){h.current.click()},className:"file-input-trigger gradient-button"},i),u&&c.a.createElement(f,{message:"Selected file was not a valid ".concat(a," file"),confirmCallback:function(){m(!1)}}))};a(20);var g=function(e){var t=e.value,a=e.changeCallback,n=e.className,l=void 0===n?"":n,i=e.placeholder,r=void 0===i?"":i;return c.a.createElement("input",{className:"text-input ".concat(l),type:"text",onChange:function(e){a(e.target.value)},value:t,placeholder:r})},p=(a(21),a(9));function b(e){return Math.random().toString(36).replace("0.",e||"")}var v=function(e){var t=e.text,a=e.search,l=void 0===a?"":a,i=e.className,o=void 0===i?"":i,s=e.title,u=void 0===s?"":s,m=Object(n.useState)([]),h=Object(r.a)(m,2),f=h[0],d=h[1],g=Object(n.useState)(0),v=Object(r.a)(g,2),E=v[0],x=v[1],k=function(e,t){var a=Object(n.useState)(e),c=Object(r.a)(a,2),l=c[0],i=c[1];return Object(n.useEffect)((function(){var a=setTimeout((function(){i(e)}),t);return function(){a&&clearTimeout(a)}}),[e,t]),l}(l,300),O=Object(n.useCallback)((function(e,t,a){for(var n=[],c=0,l=0;l<a.length;l++)c<a[l].index&&n.push({text:e.substring(c,a[l].index),isHighlighted:!1,key:b()}),n.push({text:e.substring(a[l].index,a[l].index+t.length),isHighlighted:!0,key:b()}),c=a[l].index+t.length;c<e.length-1&&n.push({text:e.substring(c,e.length),isHighlighted:!1,key:b()}),d(n),x(a.length)}),[d,x]),j=Object(n.useCallback)((function(e){d([{text:e,isHighlighted:!1,key:b()}]),x(0)}),[]);return Object(n.useEffect)((function(){if(k){var e=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="g".concat(a.isCaseSensitive?"":"i"),c=new RegExp(t,n);return Object(p.a)(e.matchAll(c))}(t,k);e.length?O(t,k,e):j(t)}else j(t)}),[t,k,j,O]),c.a.createElement("div",{className:"text-match-container  ".concat(o)},c.a.createElement("div",{className:"highlighter-header"},c.a.createElement("h2",{className:"highlighter-title"},u),k&&c.a.createElement("span",{className:"match-count"},0===E?"No matches ":1===E?"1 match ":"".concat(E," matches "),"found")),c.a.createElement("div",{className:"text-container"},f.map((function(e){return c.a.createElement("span",{key:e.key,className:e.isHighlighted?"highlighter":""},e.text)}))))};var E=function(){var e=Object(n.useState)(),t=Object(r.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(""),o=Object(r.a)(i,2),s=o[0],u=o[1],m=Object(n.useState)(""),h=Object(r.a)(m,2),f=h[0],p=h[1],b=function(e){l(e),function(e){return new Promise((function(t,a){var n=new FileReader;n.onload=function(e){t(e.target.result)};try{n.readAsText(e)}catch(c){a(c)}}))}(e).then((function(e){u(e)}))};return c.a.createElement("div",{className:"app-container"},!a&&c.a.createElement("div",{className:"file-upload-container"},c.a.createElement("h1",{className:"file-upload-msg"},"Upload a .txt file to begin search"),c.a.createElement(d,{buttonText:"Select File",fileSelectCallback:b,fileExtension:".txt"})),a&&c.a.createElement("div",{className:"search-text-container"},c.a.createElement("div",{className:"app-controls"},c.a.createElement(g,{className:"search-input",placeholder:"Search uploaded file contents",changeCallback:function(e){p(e)},value:f}),c.a.createElement(d,{buttonText:"Change File",fileSelectCallback:b,fileExtension:".txt"})),c.a.createElement(v,{className:"text-content",title:a.name,text:s,search:f})))};i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(E,null)),document.getElementById("root"))}],[[11,1,2]]]);
//# sourceMappingURL=main.c8cd24a9.chunk.js.map